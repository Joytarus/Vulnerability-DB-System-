import { reactive, toRefs } from 'vue';

export const useGlobalState = () => {
    const state = reactive({
        isAuthenticated: !!localStorage.getItem('token'),
        showLoginModal: false,
        showRegisterModal: false
    });

    const setAuthenticated = (status) => {
        state.isAuthenticated = status;
    };

    const toggleLoginModal = () => {
        console.log("Toggling Login Modal");
        state.showLoginModal = !state.showLoginModal;
    };

    const toggleRegisterModal = () => {
        console.log("Toggling Register Modal");
        state.showRegisterModal = !state.showRegisterModal;
    };

    return {
        ...toRefs(state),
        setAuthenticated,
        toggleLoginModal,
        toggleRegisterModal
    };
};